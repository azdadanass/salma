<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:fn="http://java.sun.com/jsp/jstl/functions">
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="First Name" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText id="firstName" value="#{userView.model.firstName}" required="true" requiredMessage="First Name should not be null">
						<p:ajax listener="#{userView.generateUsername()}" update="firstName,login" />
					</p:inputText>
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Last Name" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText id="lastName" value="#{userView.model.lastName}" required="true" requiredMessage="Last Name should not be null">
						<p:ajax listener="#{userView.generateUsername()}" update="lastName,login" />
					</p:inputText>
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Login" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText id="login" value="#{userView.model.login}" readonly="#{userView.isAddPage}" required="true" requiredMessage="Login should not be null" />
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Type" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<h:selectOneMenu value="#{userView.model.internal}" required="true" requiredMessage="Type should not be null">
						<f:selectItem itemLabel="---" noSelectionOption="true" />
						<f:selectItem itemLabel="Internal" itemValue="true" />
						<f:selectItem itemLabel="External" itemValue="false" />
						<p:ajax update="externalPanel,lineManager"/>
					</h:selectOneMenu>
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Email 1" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText id="email" value="#{userView.model.email}">
						<p:ajax listener="#{userView.formatEmail()}" update="email" />
					</p:inputText>
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Email 2" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText id="email2" value="#{userView.model.email2}">
						<p:ajax listener="#{userView.formatEmail2()}" update="email2" />
					</p:inputText>
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="CIN" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText id="cin" value="#{userView.model.cin}" required="true" requiredMessage="CIN should not be null">
						<p:ajax listener="#{userView.formatCin()}" update="cin" />
					</p:inputText>
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Birthday" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:calendar value="#{userView.model.birthday}" pattern="yyyy-MM-dd" mask="true" pages="3" autocomplete="off" navigator="true" required="true" requiredMessage="Birthday should not be null" />
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Gender" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<h:selectOneMenu value="#{userView.model.gender}" required="true" requiredMessage="Gender should not be null">
						<f:selectItem itemLabel="---" noSelectionOption="true" />
						<f:selectItem itemLabel="Male" itemValue="true" />
						<f:selectItem itemLabel="Female" itemValue="false" />
					</h:selectOneMenu>
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Job/Function" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:selectOneMenu value="#{userView.model.job}" filter="true" filterMatchMode="contains">
						<f:selectItem itemLabel="---" noSelectionOption="true" />
						<f:selectItems  value="#{textView.findValueList('user','job')}" var="text" itemLabel="#{text}" itemValue="#{text}" />
					</p:selectOneMenu>
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Passport Id" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.model.userData.passportId}" />
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Passport Expire Date" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:calendar value="#{userView.model.userData.passportExpireDate}" pattern="yyyy-MM-dd" mask="true" pages="3" autocomplete="off" navigator="true" />
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Drive Licence Id" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.model.userData.driveLicenceId}" />
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Drive Licence Type" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.model.userData.driveLicenceType}" />
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Drive Licence Issued Date" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:calendar value="#{userView.model.userData.driveLicenceIssuedDate}" pattern="yyyy-MM-dd" mask="true" pages="3" autocomplete="off" navigator="true" />
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Drive Licence Expire Date" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:calendar value="#{userView.model.userData.driveLicenceExpireDate}" pattern="yyyy-MM-dd" mask="true" pages="3" autocomplete="off" navigator="true" />
				</div>
			</div>
		</div>
	</div>
	<h4 class="header blue bolder smaller">
		<h:outputText value="Functional Structure" />
	</h4>
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="LOB " />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:selectOneMenu value="#{userView.model.affectation.lobId}" filter="true" filterMatchMode="contains" required="true" requiredMessage="LOB should not be null">
						<f:selectItem itemLabel="---" noSelectionOption="true" />
						<f:selectItems value="#{lobView.findLight()}" var="item" itemLabel="#{item.name}" itemValue="#{item.id}" />
					</p:selectOneMenu>
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Line Manager" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:selectOneMenu id="lineManager" value="#{userView.model.affectation.lineManagerUsername}" filter="true" filterMatchMode="contains" required="true" requiredMessage="Line Manager should not be null">
						<f:selectItem itemLabel="---" noSelectionOption="true" />
						<f:selectItems value="#{userView.findLightActive(userView.model.internal)}" var="item" itemLabel="#{item.name}" itemValue="#{item.username}" />
					</p:selectOneMenu>
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="HR Manager" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:selectOneMenu value="#{userView.model.affectation.hrManagerUsername}" filter="true" filterMatchMode="contains" required="true" requiredMessage="HR Manager should not be null">
						<f:selectItem itemLabel="---" noSelectionOption="true" />
						<f:selectItems value="#{userView.findLightActive()}" var="item" itemLabel="#{item.name}" itemValue="#{item.username}" />
					</p:selectOneMenu>
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Logistics Manager" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:selectOneMenu value="#{userView.model.affectation.logisticManagerUsername}" filter="true" filterMatchMode="contains" required="true" requiredMessage="Logistic Manager should not be null">
						<f:selectItem itemLabel="---" noSelectionOption="true" />
						<f:selectItems value="#{userView.findLightActive()}" var="item" itemLabel="#{item.name}" itemValue="#{item.username}" />
					</p:selectOneMenu>
				</div>
			</div>
		</div>
	</div>
	<h:panelGroup id="externalPanel">
		<f:subview rendered="#{!userView.model.internal}">
			<h4 class="header blue bolder smaller">
				<h:outputText value="External Company Informations" />
			</h4>
			<div class="row">
				<div class="col-xs-12 col-sm-6">
					<div class="form-group">
						<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
							<h:outputText value="Company Type " />
						</label>
						<div class="col-xs-9 col-sm-9">
							<h:selectOneMenu value="#{userView.model.companyType}" required="true" requiredMessage="Company Type should not be null">
								<f:selectItem itemLabel="---" noSelectionOption="true" />
								<f:selectItems value="#{CompanyType.ALL_ENUM_VALUES}" />
								<p:ajax update="company" />
							</h:selectOneMenu>
						</div>
					</div>
				</div>
				<h:panelGroup id="company">
					<f:subview rendered="#{CompanyType.CUSTOMER==userView.model.companyType}">
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
									<h:outputText value="Company Name" />
								</label>
								<div class="col-xs-9 col-sm-9">
									<p:selectOneMenu value="#{userView.model.customerId}" filter="true" filterMatchMode="contains" required="true" requiredMessage="Customer should not be null">
										<f:selectItem itemLabel="---" noSelectionOption="true" />
										<f:selectItems value="#{customerView.findLight()}" var="item" itemLabel="#{item.name}" itemValue="#{item.id}" />
									</p:selectOneMenu>
								</div>
							</div>
						</div>
					</f:subview>
					<f:subview rendered="#{CompanyType.SUPPLIER==userView.model.companyType}">
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
									<h:outputText value="Company Name" />
								</label>
								<div class="col-xs-9 col-sm-9">
									<p:selectOneMenu value="#{userView.model.supplierId}" filter="true" filterMatchMode="contains" required="true" requiredMessage="Supplier should not be null">
										<f:selectItem itemLabel="---" noSelectionOption="true" />
										<f:selectItems value="#{supplierView.findLight()}" var="item" itemLabel="#{item.name}" itemValue="#{item.id}" />
									</p:selectOneMenu>
								</div>
							</div>
						</div>
					</f:subview>
					<f:subview rendered="#{CompanyType.OTHER==userView.model.companyType}">
						<div class="col-xs-12 col-sm-6">
							<div class="form-group">
								<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
									<h:outputText value="Company Name" />
								</label>
								<div class="col-xs-9 col-sm-9">
									<p:inputText value="#{userView.model.company}" required="true" requiredMessage="Company should not be null" />
								</div>
							</div>
						</div>
					</f:subview>
				</h:panelGroup>
			</div>
		</f:subview>
	</h:panelGroup>
	<h4 class="header blue bolder smaller">
		<h:outputText value="Contact Informations" />
	</h4>
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Phone" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText id="phone" value="#{userView.model.phone}" placeholder="example : +212999999999">
						<p:ajax listener="#{userView.formatPhone()}" update="phone" />
					</p:inputText>
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Phone2" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.model.phone2}" />
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Business Phone" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.model.userData.businessPhone}" />
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Business Fax" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.model.userData.businessFax}" />
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Home Address" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.model.userData.homeAddress}" />
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Home Phone" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.model.userData.homePhone}" />
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Emergency Name1" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.model.userData.emergencyName1}" />
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Emergency Phone1" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.model.userData.emergencyPhone1}" />
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Emergency Name2" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.model.userData.emergencyName2}" />
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Emergency Phone2" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.model.userData.emergencyPhone2}" />
				</div>
			</div>
		</div>
	</div>
	<div class="space-4" />
	<div class="row">
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Skype Id" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.model.userData.skypeId}" />
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6">
			<div class="form-group">
				<label class="col-xs-3 col-sm-3 control-label no-padding-right" for="form-field-basename">
					<h:outputText value="Im Id" />
				</label>
				<div class="col-xs-9 col-sm-9">
					<p:inputText value="#{userView.model.userData.imId}" />
				</div>
			</div>
		</div>
	</div>
</ui:composition>